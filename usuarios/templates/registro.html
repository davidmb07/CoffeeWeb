{% load static %}
<!doctype html>
<html lang="es-co">
    <head>
        <style>
            @import url("https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
        </style>
        <title>CoffeeWeb - Registrarse</title>
        <link rel="icon" type="image/x-icon" href="{% static 'img/favicon.ico' %}">
        <!-- Required meta tags -->
        <meta charset="utf-8" />
        <meta
            name="viewport"
            content="width=device-width, initial-scale=1, shrink-to-fit=no"
        />
        <!-- Bootstrap CSS v5.2.1 -->
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
            crossorigin="anonymous"
        />
        <!-- Bootstrap Icons CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
        <!-- Incluye la hoja de estilos de Font Awesome -->
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.1/css/all.css" crossorigin="anonymous">
        <link rel="stylesheet" href="{% static 'css/registro.css' %}"/>
    </head>
    <body>
        <section class="contact-box">
            <div class="row g-0 content">
                <div class="col-xl-5 col-lg-12 register-bg position-relative">
                    <div class="position-absolute testimonial p-4">
                        <h3 class="fw-bold text-light">Unete a nuestra comunidad</h3>
                        <p class="lead text-light">Únete a nuestra comunidad y descubre cómo analizar la aptitud del terreno para la siembra de café orgánico. Interactúa con otros usuarios y comparte conocimientos para mejorar tus cultivos y técnicas agrícolas.</p>
                    </div>
                </div>
                <div class="col-xl-7 col-lg-12 d-flex">
                    <div class="container align-self-center p-6">
                        <h1 class="fw-bold mb-3">Crear cuenta</h1>

                        <p class="text-muted mb-5">Ingresa los siguientes datos</p>

                        <form id="registro-form" method="post" action="{% url 'registro' %}">
                            {% csrf_token %}
                            <div class="border-bottom mb-3">
                                <label class="fw-bold" for="tipo_usuario"><i class="bi bi-person-workspace me-1"></i>Tipo Usuario</label>
                                <select class="form-select mb-3 bg-transparent border-0" name="Tipo_usuario" aria-label="Default select example">
                                    <option selected disabled>Seleccionar...</option>
                                    <option value="Caficultor">Caficultor</option>
                                    <option value="UserCooperativa">Usuario de Cooperativa</option>
                                    <option value="AdminCooperativa">Administrador de Cooperativa</option>
                                    <option value="Insumos">Proveedor de Insumos</option>
                                </select>
                            </div>
                                <div class="form-group form-floating border-bottom mb-3">
                                    <input type="text" class="form-control bg-transparent border-0" name="nombre" placeholder="Nombre" required>
                                    <label class="fw-bold"><i class="bi bi-person-vcard me-1"></i>Nombre</label>
                                </div>
                                <div class="form-group form-floating border-bottom mb-3">
                                    <input type="text" class="form-control bg-transparent border-0" name="apellido" placeholder="Apellido" required>
                                    <label class="fw-bold"><i class="bi bi-person-vcard me-1"></i>Apellido</label>
                                </div>
                                <div class="form-group form-floating border-bottom mb-3">
                                    <input type="tel" class="form-control bg-transparent border-0" name="telefono" placeholder="Teléfono" required>
                                    <label class="fw-bold"><i class="bi bi-telephone me-1"></i>Teléfono</label>
                                </div>
                            <div class="form-group form-floating border-bottom mb-3">
                                <input type="email" class="form-control bg-transparent border-0" name="email" placeholder="name@example.com" required>
                                <label class="fw-bold"><i class="bi bi-at me-1"></i>Correo electrónico</label>
                            </div>
                            <div class="form-group mb-3">
                                <div class="input-group form-floating border-bottom">
                                    <input type="password" id="inputPassword" class="form-control bg-transparent border-0" name="password" aria-describedby="passwordHelpBlock" placeholder="**********" required>
                                    <label for="inputPassword5" class="form-label fw-bold"><i class="bi bi-shield-lock me-1"></i>Contraseña</label>
                                    <div class="input-group-text border-0 bg-transparent">
                                        <i class="fas fa-eye-slash toggle-password-icon text-muted" id="togglePassword1"></i>
                                    </div>
                                </div>
                                <div id="passwordHelpBlock" class="form-text text-muted">
                                    Su contraseña debe tener entre 8 y 50 caracteres, contener letras y números, y no debe contener espacios, caracteres especiales ni emoji.
                                </div>
                            </div>
                        
                            <div class="form-group mb-3">
                                <div class="input-group form-floating border-bottom">
                                    <input type="password" id="confirmPassword" class="form-control bg-transparent border-0" name="confirmPassword" placeholder="**********" required>
                                    <label class="fw-bold"><i class="bi bi-shield-lock me-1"></i>Confirmar contraseña</label>
                                    <div class="input-group-text border-0 bg-transparent">
                                        <i class="fas fa-eye-slash toggle-password-icon text-muted" id="togglePassword2"></i>
                                    </div>
                                </div>
                                <span id="passwordMatchError" class="text-danger"></span>
                            </div>
                            <div class="form-group mb-5">
                                <div class="form-check form-switch">
                                    <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckDefault">
                                    <label class="form-check-label text-muted" for="flexSwitchCheckDefault">Al seleccionar esta casilla aceptas nuestro aviso de privacidad y los <a class="fw-bold" id="terminos" href="#">términos</a> y <a class="fw-bold" id="condiciones" href="#">condiciones</a></label>
                                </div>
                                <div class="d-flex justify-content-center mt-5 mb-5">
                                    <button class="text-decoration-none fw-bold border-0 registrarse" id="registerButton" type="submit">
                                        <span></span>
                                        <span></span>
                                        <span></span>
                                        <span></span>
                                        Regístrate
                                    </button>
                                </div>
                            </div>
                        </form>
                        <!-- Cuadro de diálogo -->
                        <div id="overlay"></div>
                        <div id="dialog">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 52 52"><circle cx="26" cy="26" r="25" fill="none" stroke="#4CAF50" stroke-width="2"/><path fill="none" stroke="#4CAF50" stroke-width="2" d="M14 27l7 7 16-16"/></svg>
                            <p>Usuario creado exitosamente.</p>
                        </div>

                        <div class="form-group text-center">
                            <p class="d-inline-block text-muted mb-0 me-2">¿Ya tienes una cuenta?</p><a class="fw-bold" id="login" href="{% url 'login' %}">Inicia sesión aquí</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- JavaScript -->
        <!-- Inputs ocultos para pasar datos al JavaScript -->
        <input type="hidden" id="successRedirectUrl" value="{% url 'login' %}">
        <input type="hidden" id="successMessage" value="{% if messages %}{% for message in messages %}{% if message.tags == 'success' %}true{% endif %}{% endfor %}{% else %}false{% endif %}">
        <script type="text/javascript" src="{% static 'js/registro.js' %}" defer></script>
        <!-- Bootstrap Bundle with Popper -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    </body>
</html>